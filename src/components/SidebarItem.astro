---
import BoardIcon from "./Icons/BoardIcon.astro";

const { href } = Astro.props;
const Element = href ? 'a' : "button";

---

<li data-sidebar-item class={`pl-6 py-[14px] mr-5 rounded-r-full bg-transparent ${href ? 'text-grey-300' : 'text-purple-200'}`}><Element class='flex items-center gap-3' href={href}><BoardIcon /> <slot /></Element></li>

<script>
const path = document.location.pathname;

document.querySelectorAll('[data-sidebar-item]').forEach((item) => {
  const href = item?.querySelector('a')?.getAttribute('href');
  if (href === path) {
    item.classList.replace('bg-transparent', 'bg-purple-200');
    item.classList.replace('text-grey-300', 'text-white');
  }
})
</script>